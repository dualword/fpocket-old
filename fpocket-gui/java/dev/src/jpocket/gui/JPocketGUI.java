/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * JPocketGUI.java
 *
 * Created on 4 juil. 2009, 14:48:02
 */

package jpocket.gui;

import jpocket.gui.tree.JPocketProjectTree;
import java.awt.BorderLayout;
import java.awt.Dimension;
import javax.swing.JScrollPane;
import jpocket.jmol.JMolPanel;
import jpocket.utils.Utils;
import org.openscience.jmol.app.JmolApp;

/**
 *
 * @author Administrateur
 */
public class JPocketGUI extends javax.swing.JFrame
{
    private JPocketProjectTree tree ;

    /** Creates new form JPocketGUI */
    public JPocketGUI() {
        initComponents();
        updateComponents() ;
    }

    private void updateComponents()
    {
        // Create the tree model
        tree = new JPocketProjectTree() ;
        tree.setPreferredSize(new Dimension(200, 300)) ;
        
        JScrollPane jsp = new JScrollPane(tree) ;
        jsp.setViewportView(tree) ;
        jsp.setPreferredSize(new Dimension(200, 300)) ;
        treePanel.add(jsp, BorderLayout.CENTER) ;

        //viewerPanel.add(new JMolPanelSA()) ;
        JmolApp jmolApp = new JmolApp(new String[]{});
        String commandOptions = jmolApp.commandOptions ;
        JMolPanel jmol = new JMolPanel(jmolApp, null, jmolApp.startupWidth,
                                         jmolApp.startupHeight, commandOptions, null);
        jmolApp.startViewer(jmol.viewer, null);

        viewerPanel.add(jmol) ;
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        treePanel = new javax.swing.JPanel();
        statusPanel = new javax.swing.JPanel();
        Status1 = new javax.swing.JLabel();
        jProgressBar1 = new javax.swing.JProgressBar();
        jSeparator1 = new javax.swing.JSeparator();
        leftPanel = new javax.swing.JPanel();
        pocketsPanel = new javax.swing.JPanel();
        pocketsScrollPane = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        viewerPanel = new javax.swing.JPanel();
        menuBar = new javax.swing.JMenuBar();
        fileMenu = new javax.swing.JMenu();
        openProjectMenu = new javax.swing.JMenuItem();
        saveMenuItem = new javax.swing.JMenuItem();
        saveAsMenuItem = new javax.swing.JMenuItem();
        exitMenuItem = new javax.swing.JMenuItem();
        editMenu = new javax.swing.JMenu();
        cutMenuItem = new javax.swing.JMenuItem();
        copyMenuItem = new javax.swing.JMenuItem();
        pasteMenuItem = new javax.swing.JMenuItem();
        deleteMenuItem = new javax.swing.JMenuItem();
        runMenu = new javax.swing.JMenu();
        helpMenu = new javax.swing.JMenu();
        contentsMenuItem = new javax.swing.JMenuItem();
        aboutMenuItem = new javax.swing.JMenuItem();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("JPocket - Fpocket GUI");

        jPanel1.setLayout(new java.awt.BorderLayout());

        treePanel.setLayout(new java.awt.BorderLayout());
        jPanel1.add(treePanel, java.awt.BorderLayout.LINE_START);

        statusPanel.setLayout(new java.awt.BorderLayout());

        Status1.setText("Status1");
        statusPanel.add(Status1, java.awt.BorderLayout.CENTER);

        jProgressBar1.setMinimumSize(new java.awt.Dimension(250, 14));
        jProgressBar1.setPreferredSize(new java.awt.Dimension(250, 14));
        statusPanel.add(jProgressBar1, java.awt.BorderLayout.LINE_END);
        statusPanel.add(jSeparator1, java.awt.BorderLayout.PAGE_START);

        jPanel1.add(statusPanel, java.awt.BorderLayout.PAGE_END);

        pocketsPanel.setBorder(javax.swing.BorderFactory.createTitledBorder("Pockets"));

        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {"1", "98.9", "78", "...", "...", "..."},
                {"2", "96.5", "87", "...", "...", "..."},
                {"3", "74.6", "45", "...", "...", "..."},
                {"4", "39.0", "23", "...", "...", "..."},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null}
            },
            new String [] {
                "Rank", "Score", "Nb. Alpha sphere", "Descriptor 1", "Descriptor 2", "Descriptor 3"
            }
        ));
        pocketsScrollPane.setViewportView(jTable1);

        javax.swing.GroupLayout pocketsPanelLayout = new javax.swing.GroupLayout(pocketsPanel);
        pocketsPanel.setLayout(pocketsPanelLayout);
        pocketsPanelLayout.setHorizontalGroup(
            pocketsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(pocketsScrollPane, javax.swing.GroupLayout.DEFAULT_SIZE, 814, Short.MAX_VALUE)
        );
        pocketsPanelLayout.setVerticalGroup(
            pocketsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(pocketsScrollPane, javax.swing.GroupLayout.DEFAULT_SIZE, 103, Short.MAX_VALUE)
        );

        viewerPanel.setBorder(javax.swing.BorderFactory.createTitledBorder("Viewer"));
        viewerPanel.setLayout(new java.awt.BorderLayout());

        javax.swing.GroupLayout leftPanelLayout = new javax.swing.GroupLayout(leftPanel);
        leftPanel.setLayout(leftPanelLayout);
        leftPanelLayout.setHorizontalGroup(
            leftPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, leftPanelLayout.createSequentialGroup()
                .addGroup(leftPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(viewerPanel, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 826, Short.MAX_VALUE)
                    .addComponent(pocketsPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        leftPanelLayout.setVerticalGroup(
            leftPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(leftPanelLayout.createSequentialGroup()
                .addComponent(pocketsPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(viewerPanel, javax.swing.GroupLayout.DEFAULT_SIZE, 341, Short.MAX_VALUE)
                .addContainerGap())
        );

        jPanel1.add(leftPanel, java.awt.BorderLayout.CENTER);

        getContentPane().add(jPanel1, java.awt.BorderLayout.CENTER);

        fileMenu.setText("File");

        openProjectMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/jpocket/ressources/icons/benzene.png"))); // NOI18N
        openProjectMenu.setText("Open projects");
        openProjectMenu.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                openProjectMenuActionPerformed(evt);
            }
        });
        fileMenu.add(openProjectMenu);

        saveMenuItem.setText("Save projects");
        fileMenu.add(saveMenuItem);

        saveAsMenuItem.setText("Save projects As ...");
        fileMenu.add(saveAsMenuItem);

        exitMenuItem.setText("Exit");
        exitMenuItem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                exitMenuItemActionPerformed(evt);
            }
        });
        fileMenu.add(exitMenuItem);

        menuBar.add(fileMenu);

        editMenu.setText("Edit");

        cutMenuItem.setText("Cut");
        editMenu.add(cutMenuItem);

        copyMenuItem.setText("Copy");
        editMenu.add(copyMenuItem);

        pasteMenuItem.setText("Paste");
        editMenu.add(pasteMenuItem);

        deleteMenuItem.setText("Delete");
        editMenu.add(deleteMenuItem);

        menuBar.add(editMenu);

        runMenu.setText("Run");
        menuBar.add(runMenu);

        helpMenu.setText("Help");

        contentsMenuItem.setText("Contents");
        helpMenu.add(contentsMenuItem);

        aboutMenuItem.setText("About");
        helpMenu.add(aboutMenuItem);

        menuBar.add(helpMenu);

        setJMenuBar(menuBar);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void exitMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_exitMenuItemActionPerformed
        System.exit(0);
    }//GEN-LAST:event_exitMenuItemActionPerformed

    private void openProjectMenuActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_openProjectMenuActionPerformed
        String [] xml = Utils.openFiles("Select XML project file(s)", "XML", this) ;
        for(int i = 0 ; i < xml.length ; i++) {
            tree.addProjectsXML(xml[i]);
        }
    }//GEN-LAST:event_openProjectMenuActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel Status1;
    private javax.swing.JMenuItem aboutMenuItem;
    private javax.swing.JMenuItem contentsMenuItem;
    private javax.swing.JMenuItem copyMenuItem;
    private javax.swing.JMenuItem cutMenuItem;
    private javax.swing.JMenuItem deleteMenuItem;
    private javax.swing.JMenu editMenu;
    private javax.swing.JMenuItem exitMenuItem;
    private javax.swing.JMenu fileMenu;
    private javax.swing.JMenu helpMenu;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JProgressBar jProgressBar1;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JTable jTable1;
    private javax.swing.JPanel leftPanel;
    private javax.swing.JMenuBar menuBar;
    private javax.swing.JMenuItem openProjectMenu;
    private javax.swing.JMenuItem pasteMenuItem;
    private javax.swing.JPanel pocketsPanel;
    private javax.swing.JScrollPane pocketsScrollPane;
    private javax.swing.JMenu runMenu;
    private javax.swing.JMenuItem saveAsMenuItem;
    private javax.swing.JMenuItem saveMenuItem;
    private javax.swing.JPanel statusPanel;
    private javax.swing.JPanel treePanel;
    private javax.swing.JPanel viewerPanel;
    // End of variables declaration//GEN-END:variables
}
